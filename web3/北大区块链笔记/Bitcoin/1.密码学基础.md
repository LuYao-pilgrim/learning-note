# 密码学原理

两个最重要：Hash+签名

## Hash

### 1.collision resistence

没有办法人为制造hash碰撞，基本可以认为实际不可行

->可以用来防篡改

问题：那万一同时改了内容和hash值呢？

个人理解：可以看作一个digest，这个hash值可以在一开始就提前告诉好验证好，提前大家都公认，这样就可以保证之后(时间性)这个文件内容不会被篡改了，因为hash值大家已经知道了，可以异步。

### 2.hiding

单向不可逆,x-->H(x)

1+2-->digital commitment,保证了承诺不可更改，提前公布承诺的hash值，之后可以验证

实际操作中为了输入的均匀分布，加入随机数nonce

### 3.puzzle friendly

完全随机，输入变化一点可能输出就变化很多，输入输出没有任何关系可循，保证公平，没有捷径

1+3区别：反过来看比较好理解，但是也是有联系的

1->避免人为制造哈希碰撞

3->避免找到输入输出之间的联系

## 数字签名

非对称的公私钥形式，公钥私钥可以互相加密解密

数据传输-->公钥加密私钥解密

数字签名-->私钥加密文件的hash值，公钥解密出

好的随机源？用good source去生成公钥私钥，可以防止私钥暴露

**问题**：防范冒充交易-->C拿自己的公钥私钥，声称是A的，别人解密发现好像也对，不就偷走A的钱啦？而且区块链也没有数字证书机构

解答：但是每次交易需要同时给出交易内容，自己公钥，coin来源，C没法窃取A的来源，因为和A的公钥是绑定的，他只能用自己的公钥私钥去伪造，所以和来源是对不上的，环环相扣，除非全都是C自己的那就是脱裤子放屁了，相当于自己去转账了。无法窃取A的钱
